<template name="chart_of_accounts">
<h1>Chart of Accounts</h1>

{{#each accounts}}
{{>subaccount}}
{{/each}}

<hr/>
<h2>Create New Account</h2>
<form>
    <p>
    Name:
    <input type="text" placeholder="name" id="cr_name" name="name" />
    </p>

    <p>
    Account Type:
    <select id="cr_type">
        <option></option>
        {{#each account_types}}
        <option value="{{type_code}}">
            {{type_name}}
        </option>
        {{/each}}
    </select>
    </p>

    <p>
    Parent Account:
    <select id="cr_parent" name="parent_account">
        <option value="">
            (none)
        </option>
        {{#each accounts}}
        {{>subaccount_option}}
        {{/each}}
    </select>
    </p>

    <button id="cr_submit">Add</button>
    <button type="reset">Clear</button>
</form>

</template>


<template name="subaccount">
<div class="subaccount">
    <div class="field account_name">
        {{name}}
    </div>
    <div class="field type">
        {{acc_type type}}
    </div>
    <div class="field balance">
        {{balance}}
    </div>
    <div class="field delete">
        <button class="delete">Delete</button>
    </div>
    <ul>
        {{#each subaccounts}}
        <li>
        {{>subaccount}}
        </li>
        {{/each}}
    </ul>
</div>
</template>

<template name="subaccount_option">
<option value="{{_id}}">{{name}}</option>
{{#each subaccounts}}
{{>subaccount_option}}
{{/each}}
</template>
